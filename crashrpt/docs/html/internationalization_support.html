<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>CrashRpt: Internationalization Support</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="style.css" rel="stylesheet" type="text/css">
<link rel="icon" href="../favicon.ico" type="image/x-icon" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
</head>
<body onload='searchBox.OnSelectItem(0);'>

<div style="padding:10px">
<table border="0" bgcolor="#FFFFFF" cellspacing="5" width="100%">
 <tr>
  <td width="24px" rowspan="2"><img src="../logo.png" alt="Logo" /></td>
  <td><font family="Arial" size="+2">crashrpt</font></td>
  <td rowspan="2" align="right"></td>
 </tr>
 <tr>
  <td colspan="2"><span style="font-size:0.9em"><i>A crash reporting system for Windows applications</i></a></td>
 </tr>
</table>
</div>


<!-- Generated by Doxygen 1.5.9 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Contents</span></a></li>
      <li><a href="modules.html"><span>API&nbsp;Reference</span></a></li>
      <li><a href="files.html"><span>File&nbsp;Reference</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="index.html">CrashRpt Documentation</a>&nbsp;&raquo&nbsp;<a class="el" href="using_crashrpt.html">Using CrashRpt in Your Project</a>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="internationalization_support">Internationalization Support </a></h1>CrashRpt supports multi-lingual user interfaces. You should place a valid language file named <b>crashrpt_lang.ini</b> to the directory where <b>CrashSender.exe</b> file is located in order to make CrashRpt work properly.<p>
Optionally, you can specify custom language file name by using the <a class="el" href="struct_c_r___i_n_s_t_a_l_l___i_n_f_o_a.html#69548caa95cb80474cc42136e43336b8">CR_INSTALL_INFO::pszLangFilePath</a> structure member.<p>
The language file is a text document in UNICODE format and having INI extension. The language file contains localized strings used by CrashRpt dialogs.<p>
If your software supports several languages, you can ship several language files with your software distribution. On install, rename an appropriate file to <b>crashrpt_lang.ini</b> and copy it to the folder where your <b>CrashSender.exe</b> is located.<p>
You can get a language file from <em>lang_files</em> directory under the top-level directory of the CrashRpt distribution archive.<p>
Each language file has the <em>CrashRptVersion</em> field that stores the version of CrashRpt you can use this language file in. If you try to use a language file with a wrong version, the <a class="el" href="group___crash_rpt_a_p_i.html#g24acb589d629460590d85735e12b5337" title="Character set-independent mapping of crInstallW() and crInstallA() functions.">crInstall()</a> function will return an error.<p>
For example, assume you want to use the English language file. Browse for <em>lang_files-&gt;crashrpt_lang_EN.ini</em> (shown below).<p>
<div class="fragment"><pre class="fragment">- lang_files
       crashrpt_lang_EN.ini
</pre></div><p>
If there is no language file for your favourite language, you can contribute one. Also, if you see that there are some mistakes in an existing language file, you may want to improve it and then contribute your changes.<h2><a class="anchor" name="contributing_langfile">
Contributing a Language File</a></h2>
If you want to translate a language file to your native language, you may do the following.<p>
First of all, chose an existing language file for a language you know well. It would be easier for you to translate from such language.<p>
Open the language file using <b>notepad</b>. It is strongly recommended that you use notepad for editing to avoid unexpected problems with encoding.<p>
You can see that the language file is a regular text file. The file has several sections enclosed with [] symbols, e.g. [Settings], [MainDlg] and so on. Each section contains a group of named strings. Strings are stored as <b>StringName=String value</b> pairs.<p>
Below there is a fragment from the beginning of the English language file for CrashRpt v1.1.3:<p>
<div class="fragment"><pre class="fragment">[Settings]

AuthorName=John Brown   
AuthorEmail=jbrown@gmail.com
Language=English
RTLReading=0
CrashRptVersion=1103

[MainDlg]
DlgCaption=Error Report
HeaderText=%s has stopped working
SubHeaderText=Please send us <span class="keyword">this</span> error report to help fix the problem and improve <span class="keyword">this</span> software.
WhatDoesReportContain=What does <span class="keyword">this</span> report contain?
ProvideAdditionalInfo=Provide additional info about the problem (recommended).
YourEmail=Your E-mail:
</pre></div><p>
The <b>[Settings]</b> section contains some configuration parameters.<p>
<ul>
<li>The <b>AuthorName</b> string should contain your name. It can be empty.</li></ul>
<p>
<ul>
<li>The <b>AuthorEmail</b> string should contain your email. You may store your email here so we will be able to contact you if we have some problems with your translation. This parameter can be empty.</li></ul>
<p>
<ul>
<li>The <b>Language</b> string should contain the language name. This parameter is used to determine what language you are translating to. This parameter is required.</li></ul>
<p>
<ul>
<li>The <b>RTLReading</b> string should be equal to 0 for left-to-right languages (for example, English) and 1 for right-to-left ones (for example, Hebrew). This parameter is required. If it is set to 1, window content is mirrored.</li></ul>
<p>
<ul>
<li>The <b>CrashRptVersion</b> string must contain the CrashRpt version this language file can be used in. For example, if the file should be used in CrashRpt v.1.1.3, this parameter must be equal to 1103. You typically do not change the value of this parameter when translating from another language.</li></ul>
<p>
All other sections, such as [MainDlg] and [DetailDlg] contain strings that are used in CrashRpt dialogs. Translate the right part of the string; the left part should not be modified.<p>
Some strings contain formatting symbols, for example <b>%s</b> (string placeholder), <b>%d</b> (integer placeholder) or <b>\n</b> (new line). These special symbols should be left as they are, do not remove them!<p>
When you are finished the translation, save your changes as a file named <b>crashrpt_lang_XX.ini</b>. Replace XX with an appropriate language abbreviation (EN and so on). Ensure your file has the .INI extension. In the <b>Save as type</b> field, select <b>Text documents (*.txt)</b>. In the <b>Encoding</b> field, select <b>Unicode</b>.<p>
Then test your changes by substituting the language file. Rename your file into <b>crashrpt_lang.ini</b> and copy it to the directory where <b>CrashSender.exe</b> is located (the <code>bin</code> directory under the CrashRpt top-level directory) and run <b>WTLDemo.exe</b>.<p>
To contribute your changes, please create a message in our <a href="http://groups.google.com/group/crashrpt">Forum</a> and attach your file to that message.<p>
If you want to upgrade your language file from a previous version to the latest CrashRpt version, do the following. To determine the differences between your language file and the language file for the latest CrashRpt version, please see language files change log (located in the <em>lang_files\readme.txt</em>).<p>
<em>Further reading:</em> <a class="el" href="preparing_to_software_release.html">Preparing to Software Release</a>. </div>
<hr size="1"><address style="text-align: right;"><small>
Generated on Fri Aug 8 16:39:13 2014 for CrashRpt by&nbsp;<a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9</small></address>
</body>
</html>
